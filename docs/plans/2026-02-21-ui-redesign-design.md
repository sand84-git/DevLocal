# UI Redesign Design — Warm & Minimalist 전면 리디자인

> 날짜: 2026-02-21
> 접근: Streamlit 네이티브 + 핵심 요소 커스텀 HTML (A+B 혼합)

---

## 디자인 원칙

- PRD의 Warm & Minimalist 유지: `#F6F5F0` 배경, `#C85A32` 포인트, `#FFFFFF` 카드, `#2C2C2C` 텍스트
- Streamlit 위젯 인터랙션 유지 (버튼, 입력, 셀렉트 등)
- 커스텀 HTML은 시각 요소(스텝 인디케이터, 뱃지, 카드 헤더)에만 사용
- 비개발자 대상 — 직관적이고 단계가 명확해야 함

---

## 섹션 1: 스텝 프로그레스 인디케이터 (커스텀 HTML)

메인 영역 상단에 3단계 프로그레스 바 배치.

### 구성
- Step 1: 한국어 검수 | Step 2: 번역/검수 | Step 3: 최종 승인
- 상태별 시각화:
  - **완료**: 초록 체크마크 + 연한 초록 배경
  - **진행 중**: 포인트 컬러(#C85A32) + 펄스 애니메이션
  - **대기**: 회색 원 + 회색 텍스트
- 단계 사이 연결선 (완료 시 컬러, 대기 시 회색)
- CSS만으로 구현 (JS 불필요)

### 스텝 매핑
| current_step | Step 1 | Step 2 | Step 3 |
|---|---|---|---|
| idle | 대기 | 대기 | 대기 |
| loading | 진행중 | 대기 | 대기 |
| ko_review | 완료 | 대기 | 대기 |
| translating | 완료 | 진행중 | 대기 |
| final_review | 완료 | 완료 | 진행중 |
| done | 완료 | 완료 | 완료 |

---

## 섹션 2: 사이드바 리디자인

### 구조
```
┌─────────────────────┐
│  🌐 DevLocal        │
│  v1.0               │
├─────────────────────┤
│  📋 시트 연결        │
│  [URL 입력]         │
│  [시트 선택]        │
│  ✅ 연결됨 (뱃지)    │
├─────────────────────┤
│  ⚙️ 번역 설정       │
│  [언어 선택]        │
│  [모드 A/B]         │
│  [행 수 제한]       │
├─────────────────────┤
│  [🚀 작업 시작]     │
└─────────────────────┘
```

### 변경 사항
- 앱 타이틀 + 버전 표시
- 시트 연결 / 번역 설정 그룹을 `st.expander` 또는 구분선으로 분리
- 시트 연결 성공 시 초록 뱃지 ("✅ 연결됨")
- 모드 A/B 설명 툴팁 추가

---

## 섹션 3: 메인 컨텐츠 카드 개선

### 카드 공통 구조
```
┌──────────────────────────────────┐
│ [아이콘] 카드 타이틀              │
│ ────────────────────────────────  │
│ 본문 내용                         │
│ ────────────────────────────────  │
│ [액션 버튼 영역]                  │
└──────────────────────────────────┘
```

### 카드별 개선

#### 백업 카드
- 아이콘: 📦
- 시트명, 행 수, 생성 시간 표시
- 다운로드 버튼 강조

#### HITL 1 한국어 검수 카드
- 아이콘: ✏️
- 수정 제안 수 뱃지
- DataFrame: 변경 셀 하이라이트 (CSS background-color)
- 승인/반려 버튼: 풀너비, 적절 간격, 컬러 구분

#### HITL 2 최종 승인 카드
- 아이콘: 🔍
- 변경 건수 + 실패 건수 요약 상단 표시
- 검수실패 행은 별도 경고 섹션

### CSS 강화
- 카드: `border-radius: 16px`, `box-shadow: 0 4px 16px rgba(0,0,0,0.08)`
- 카드 헤더: 좌측 포인트 컬러 보더 (`border-left: 4px solid #C85A32`)
- 버튼 간격: `gap: 12px`, 승인 버튼은 포인트 컬러, 반려는 아웃라인
- 테이블: 짝수행 배경, 헤더 볼드

---

## 섹션 4: 완료 화면 & 로그

### 완료 화면
- 성공 아이콘 (큰 체크마크)
- 4열 메트릭 카드: 처리 행수 | Input 토큰 | Output 토큰 | 예상 비용
- "새 작업 시작" 버튼

### 로그 개선
- `st.expander` 유지하되 스타일 개선
- 각 로그 라인에 단계 뱃지 (Node 이름별 색상)

---

## 구현 범위

### 변경 파일
- `app.py` — UI 전체 리팩토링
- `.streamlit/config.toml` — 필요 시 테마 미세 조정

### 변경하지 않는 파일
- `agents/` — 파이프라인 로직 변경 없음
- `utils/` — 유틸 함수 변경 없음
- `config/` — 상수 변경 없음

### 기능 변경 없음
- session_state 구조, graph 호출, batch_update 등 비즈니스 로직은 그대로 유지
- 순수 UI/CSS 변경만 수행
