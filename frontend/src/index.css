@import "tailwindcss";

/* ── Design Tokens (Stitch 통합) ── */
@theme {
  --color-primary: #0ea5e9;
  --color-primary-dark: #0284c7;
  --color-primary-light: #e0f2fe;
  --color-bg-page: #f8fafc;
  --color-bg-surface: #ffffff;
  --color-surface-pale: #f1f5f9;
  --color-border-subtle: #e2e8f0;
  --color-text-main: #1e293b;
  --color-text-muted: #64748b;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-diff-added-bg: #dcfce7;
  --color-diff-added-text: #166534;
  --color-diff-removed-bg: #fee2e2;
  --color-diff-removed-text: #991b1b;
  --color-step-inactive: #e2e8f0;
  --color-step-text-inactive: #94a3b8;

  --font-display: "Inter", sans-serif;

  --shadow-soft: 0 10px 40px -10px rgba(0, 0, 0, 0.08);
  --shadow-card: 0 1px 3px 0 rgba(0, 0, 0, 0.05),
    0 1px 2px -1px rgba(0, 0, 0, 0.05);
}

/* ── Hide Scrollbar (tab bar 등) ── */
.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

/* ── Custom Scrollbar ── */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* ── Celebrate Animation (Step 5) ── */
@keyframes celebrate {
  0% {
    transform: scale(0.95);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
.animate-celebrate {
  animation: celebrate 0.5s ease-out forwards;
}

/* ── Shimmer (프로그레스 바 광택) ── */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}
.animate-shimmer {
  animation: shimmer 1.5s infinite;
}
.animate-shimmer-once {
  animation: shimmer 0.8s ease-out forwards;
}

/* ── Fade-in ── */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
.animate-fade-in {
  animation: fadeIn 300ms ease-out forwards;
}

/* ── Badge enter (파이프라인 transition-500ms와 동기화) ── */
.animate-badge-enter {
  animation: fadeIn 500ms ease-out;
}

/* ── Fade + Slide-up (테이블/카드 등장) ── */
@keyframes fadeSlideUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-slide-up {
  animation: fadeSlideUp 300ms ease-out forwards;
}

/* ── Fade + Slide-down (배너 등장) ── */
@keyframes fadeSlideDown {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-slide-down {
  animation: fadeSlideDown 300ms ease-out forwards;
}

/* ── Fade + Slide-left (화면 퇴장) ── */
@keyframes fadeSlideLeft {
  from { opacity: 1; transform: translateX(0) scale(1); }
  to { opacity: 0; transform: translateX(-40px) scale(0.98); }
}
.animate-fade-slide-left {
  animation: fadeSlideLeft 400ms ease-out forwards;
}

/* ── Fade + Slide-right (화면 진입) ── */
@keyframes fadeSlideRight {
  from { opacity: 0; transform: translateX(40px); }
  to { opacity: 1; transform: translateX(0); }
}
.animate-fade-slide-right {
  animation: fadeSlideRight 400ms ease-out forwards;
}

/* ── Bounce-in (버튼/아이콘 등장) ── */
@keyframes bounceIn {
  0% { transform: scale(0); opacity: 0; }
  60% { transform: scale(1.15); }
  80% { transform: scale(0.95); }
  100% { transform: scale(1); opacity: 1; }
}
.animate-bounce-in {
  animation: bounceIn 300ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* ── Breathe (진행 중 텍스트 펄스) ── */
@keyframes breathe {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}
.animate-breathe {
  animation: breathe 2s ease-in-out infinite;
}

/* ── Shake (에러 아이콘) ── */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  75% { transform: translateX(3px); }
}
.animate-shake {
  animation: shake 300ms ease-in-out;
}

/* ── Dot Pulse (Connected 상태 점) ── */
@keyframes dotPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}
.animate-dot-pulse {
  animation: dotPulse 2s ease-in-out infinite;
}

/* ══ Animation Duration Standards ══
 * Micro-interactions (hover, press):  150ms  (Tailwind default)
 * Element transitions (fade, color):  200ms  (duration-200)
 * Content entrance/badge:             300ms  (duration-300)
 * Screen-level transitions:           400ms  (duration-400)
 * Pipeline/collapse transitions:      500ms  (duration-500)
 * Progress bar:                       700ms  (duration-700)
 * All use ease-out unless infinite (ease-in-out)
 * ══════════════════════════════════ */

/* ── Pulse Scale (processing icon — non-spinner) ── */
@keyframes pulseScale {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}
.animate-pulse-scale {
  animation: pulseScale 1.5s ease-in-out infinite;
}

/* ── Spin (로딩 스피너) ── */
@keyframes spin360 {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.animate-spin360 {
  animation: spin360 1s linear infinite;
}

/* ── Popover entrance ── */
@keyframes popoverIn {
  from { opacity: 0; transform: translateY(-4px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.animate-popover-in {
  animation: popoverIn 150ms ease-out forwards;
}

/* ── Row Fade-in (drip-feed 행 등장) ── */
@keyframes rowFadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-row-fade-in {
  animation: rowFadeIn 300ms ease-out both;
}

/* ── Tabular Nums (카운트업용) ── */
.tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* ── Gradient Mesh Background (DataSource) ── */
.bg-gradient-mesh {
  background-image:
    radial-gradient(at 0% 0%, hsla(210, 100%, 96%, 1) 0, transparent 50%),
    radial-gradient(at 50% 0%, hsla(195, 100%, 96%, 1) 0, transparent 50%),
    radial-gradient(at 100% 0%, hsla(210, 100%, 96%, 1) 0, transparent 50%);
}

/* ── Blob Float (배경 데코레이션) ── */
@keyframes blob {
  0%   { transform: translate(0px, 0px) scale(1); }
  33%  { transform: translate(30px, -30px) scale(1.1); }
  66%  { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0px, 0px) scale(1); }
}
.animate-blob {
  animation: blob 7s infinite;
}
.animation-delay-2000 {
  animation-delay: 2s;
}
